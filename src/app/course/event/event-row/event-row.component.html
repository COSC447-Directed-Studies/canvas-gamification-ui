<div class="flex flex-wrap gap-3">
    <div class="min-w-[8rem]">
        <ng-container *ngIf="event.type === 'ASSIGNMENT'">Assignment
        </ng-container>
        <ng-container *ngIf="event.type === 'EXAM'">Exam</ng-container>
    </div>
    <div class="min-w-[8rem]">
        {{ event.name }}
    </div>
    <div class="flex-grow">
        <div>From: {{ event.start_date | date: 'EEEE, MMM d, y, h:mm a' }}</div>
        <div>Until: {{ event.end_date | date: 'EEEE, MMM d, y, h:mm a' }}</div>
    </div>
    <div class="min-w-[6rem]">
        <tui-tag
            *ngIf="event.is_open"
            size="m"
            status="success"
            value="Available"
        >
        </tui-tag>
        <tui-tag
            *ngIf="event.is_not_available_yet"
            size="m"
            status="error"
            value="Coming Soon"
        ></tui-tag>
        <tui-tag
            *ngIf="event.is_closed"
            size="m"
            status="default"
            value="Closed"
        >
        </tui-tag>
    </div>
    <div class="min-w-[6rem]">
        <ng-container
            *ngIf="event.is_not_available_yet || event.is_exam; else totalEventGrade">
            Grade: TBA
        </ng-container>
        <ng-template #totalEventGrade>
            Grade: {{ event.total_event_grade | number: '1.0-1' || 'TBA'}}%
        </ng-template>
    </div>
    <div>
        <a
            [routerLink]="['/course', event.course, 'assignments-exams', event.id]"
            appearance="primary"
            [disabled]="!event.is_allowed_to_open && !user?.is_teacher"
            size="s"
            tuiButton
        >
            {{ user.is_teacher ? 'View' : 'Complete' }}
        </a>
        <a
            *ngIf="event.has_edit_permission"
            [routerLink]="['/course', event.course, 'assignments-exams', event.id, 'edit']"
            appearance="secondary"
            aria-label="Edit"
            size="s"
            tuiButton
        >
            Edit
        </a>
        <a
            *ngIf="event.has_edit_permission"
            [routerLink]="['/course', event.course, 'assignments-exams', event.id, 'stats']"
            appearance="secondary"
            aria-label="Stats"
            size="s"
            tuiButton
        >
            Stats
        </a>
        <a
            *ngIf="event.has_edit_permission"
            (click)="setFeatured()"
            [disabled]="event.featured"
            appearance="secondary"
            aria-label="Set Featured"
            size="s"
            tuiButton
        >
            {{event.featured ? 'Featured' : 'Set Featured'}}
        </a>
    </div>
</div>
